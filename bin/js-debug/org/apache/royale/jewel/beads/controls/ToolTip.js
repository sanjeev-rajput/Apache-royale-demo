/**
 * Generated by Apache Royale Compiler from org/apache/royale/jewel/beads/controls/ToolTip.as
 * org.apache.royale.jewel.beads.controls.ToolTip
 *
 * @fileoverview
 *
 * @suppress {missingRequire|checkTypes|accessControls}
 */

goog.provide('org.apache.royale.jewel.beads.controls.ToolTip');
/* Royale Dependency List: org.apache.royale.core.IParentIUIBase,org.apache.royale.core.IPopUpHost,org.apache.royale.core.IStrand,org.apache.royale.core.IUIBase,org.apache.royale.events.Event,org.apache.royale.events.IEventDispatcher,org.apache.royale.events.MouseEvent,org.apache.royale.geom.Point,org.apache.royale.jewel.supportClasses.tooltip.ToolTipLabel,org.apache.royale.utils.OSUtils,org.apache.royale.utils.PointUtils,org.apache.royale.utils.UIUtils,org.apache.royale.utils.Language*/

goog.require('org.apache.royale.core.DispatcherBead');
goog.require('org.apache.royale.core.IBead');
goog.require('org.apache.royale.core.IToolTipBead');



/**
 *  constructor.
 *
 *  @langversion 3.0
 *  @playerversion Flash 10.2
 *  @playerversion AIR 2.6
 *  @productversion Royale 0.9.4
 * @constructor
 * @extends {org.apache.royale.core.DispatcherBead}
 * @implements {org.apache.royale.core.IBead}
 * @implements {org.apache.royale.core.IToolTipBead}
 */
org.apache.royale.jewel.beads.controls.ToolTip = function() {
  org.apache.royale.jewel.beads.controls.ToolTip.base(this, 'constructor');

this.org_apache_royale_jewel_beads_controls_ToolTip__xPos = org.apache.royale.jewel.beads.controls.ToolTip.RIGHT;
this.org_apache_royale_jewel_beads_controls_ToolTip__yPos = org.apache.royale.jewel.beads.controls.ToolTip.BOTTOM;
};
goog.inherits(org.apache.royale.jewel.beads.controls.ToolTip, org.apache.royale.core.DispatcherBead);


/**
 * @nocollapse
 * @const
 * @type {number}
 */
org.apache.royale.jewel.beads.controls.ToolTip.TOP = 10000;


/**
 * @nocollapse
 * @const
 * @type {number}
 */
org.apache.royale.jewel.beads.controls.ToolTip.BOTTOM = 10001;


/**
 * @nocollapse
 * @const
 * @type {number}
 */
org.apache.royale.jewel.beads.controls.ToolTip.LEFT = 10002;


/**
 * @nocollapse
 * @const
 * @type {number}
 */
org.apache.royale.jewel.beads.controls.ToolTip.RIGHT = 10003;


/**
 * @nocollapse
 * @const
 * @type {number}
 */
org.apache.royale.jewel.beads.controls.ToolTip.MIDDLE = 10004;


/**
 * @private
 * @type {string}
 */
org.apache.royale.jewel.beads.controls.ToolTip.prototype.org_apache_royale_jewel_beads_controls_ToolTip__toolTip;


/**
 * @private
 * @type {org.apache.royale.jewel.supportClasses.tooltip.ToolTipLabel}
 */
org.apache.royale.jewel.beads.controls.ToolTip.prototype.org_apache_royale_jewel_beads_controls_ToolTip_tt;


/**
 * @private
 * @type {org.apache.royale.core.IPopUpHost}
 */
org.apache.royale.jewel.beads.controls.ToolTip.prototype.org_apache_royale_jewel_beads_controls_ToolTip_host;


/**
 * @private
 * @type {number}
 */
org.apache.royale.jewel.beads.controls.ToolTip.prototype.org_apache_royale_jewel_beads_controls_ToolTip__xPos;


/**
 * @private
 * @type {number}
 */
org.apache.royale.jewel.beads.controls.ToolTip.prototype.org_apache_royale_jewel_beads_controls_ToolTip__yPos;


/**
 * @private
 * @type {string}
 */
org.apache.royale.jewel.beads.controls.ToolTip.prototype.org_apache_royale_jewel_beads_controls_ToolTip__className;


/**
 * @protected
 * @param {org.apache.royale.events.Event} event
 */
org.apache.royale.jewel.beads.controls.ToolTip.prototype.changeHandler = function(event) {
  this.org_apache_royale_jewel_beads_controls_ToolTip_tt.html = this.toolTip;
};


/**
 * @asprivate
 * @royaleignorecoercion org.apache.royale.core.IUIBase
 * @royaleignorecoercion org.apache.royale.events.IEventDispatcher
 * @protected
 * @param {org.apache.royale.events.MouseEvent} event
 */
org.apache.royale.jewel.beads.controls.ToolTip.prototype.rollOverHandler = function(event) {
  if (!this.toolTip || this.org_apache_royale_jewel_beads_controls_ToolTip_tt)
    return;
  this._strand.addEventListener("change", org.apache.royale.utils.Language.closure(this.changeHandler, this, 'changeHandler'), false);
  this._strand.addEventListener(org.apache.royale.events.MouseEvent.ROLL_OUT, org.apache.royale.utils.Language.closure(this.rollOutHandler, this, 'rollOutHandler'), false);
  var /** @type {Object} */ comp = this._strand;
  this.org_apache_royale_jewel_beads_controls_ToolTip_host = org.apache.royale.utils.UIUtils.findPopUpHost(comp);
  if (this.org_apache_royale_jewel_beads_controls_ToolTip_tt)
    this.org_apache_royale_jewel_beads_controls_ToolTip_host.popUpParent.removeElement(this.org_apache_royale_jewel_beads_controls_ToolTip_tt);
  this.org_apache_royale_jewel_beads_controls_ToolTip_tt = new org.apache.royale.jewel.supportClasses.tooltip.ToolTipLabel();
  if (this.org_apache_royale_jewel_beads_controls_ToolTip__className)
    this.org_apache_royale_jewel_beads_controls_ToolTip_tt.className = this.org_apache_royale_jewel_beads_controls_ToolTip__className;
  this.org_apache_royale_jewel_beads_controls_ToolTip_tt.html = this.toolTip;
  this.org_apache_royale_jewel_beads_controls_ToolTip_host.popUpParent.addElement(this.org_apache_royale_jewel_beads_controls_ToolTip_tt, false);
  var /** @type {org.apache.royale.geom.Point} */ pt = this.determinePosition();
  this.org_apache_royale_jewel_beads_controls_ToolTip_tt.x = pt.x;
  this.org_apache_royale_jewel_beads_controls_ToolTip_tt.y = pt.y;
};


/**
 * @asprivate
 * Determines the position of the toolTip.
 * @royaleignorecoercion org.apache.royale.core.IUIBase
 * @protected
 * @return {org.apache.royale.geom.Point}
 */
org.apache.royale.jewel.beads.controls.ToolTip.prototype.determinePosition = function() {
  var /** @type {number} */ ttWidth = this.org_apache_royale_jewel_beads_controls_ToolTip_tt.width;
  var /** @type {number} */ ttHeight = this.org_apache_royale_jewel_beads_controls_ToolTip_tt.height;
  var /** @type {Object} */ comp = this._strand;
  var /** @type {number} */ x;
  var /** @type {number} */ y;
  switch (this.org_apache_royale_jewel_beads_controls_ToolTip__xPos) {
    case org.apache.royale.jewel.beads.controls.ToolTip.LEFT:
      x = -ttWidth;
      break;
    case org.apache.royale.jewel.beads.controls.ToolTip.MIDDLE:
      x = (comp.width - ttWidth) / 2;
      break;
    case org.apache.royale.jewel.beads.controls.ToolTip.RIGHT:
      x = comp.width;
      break;
  }
  switch (this.org_apache_royale_jewel_beads_controls_ToolTip__yPos) {
    case org.apache.royale.jewel.beads.controls.ToolTip.TOP:
      y = -ttHeight;
      break;
    case org.apache.royale.jewel.beads.controls.ToolTip.MIDDLE:
      y = (comp.height - ttHeight) / 2;
      break;
    case org.apache.royale.jewel.beads.controls.ToolTip.BOTTOM:
      y = comp.height;
      break;
  }
  var /** @type {org.apache.royale.geom.Point} */ pt = new org.apache.royale.geom.Point(x, y);
  pt = org.apache.royale.utils.PointUtils.localToGlobal(pt, comp);
  pt.x = Math.max(pt.x, 0);
  pt.y = Math.max(pt.y, 0);
  var /** @type {number} */ screenHeight = org.apache.royale.utils.Language.as(this.org_apache_royale_jewel_beads_controls_ToolTip_host.popUpParent, org.apache.royale.core.IParentIUIBase).height;
  var /** @type {number} */ extraHeight = 1 + pt.y + ttHeight - screenHeight;
  if (extraHeight > 0) {
    pt.y -= extraHeight;
  }
  var /** @type {number} */ screenWidth = org.apache.royale.utils.Language.as(this.org_apache_royale_jewel_beads_controls_ToolTip_host.popUpParent, org.apache.royale.core.IParentIUIBase).width;
  var /** @type {number} */ extraWidth = 1 + pt.x + ttWidth - screenWidth;
  if (extraWidth > 0) {
    pt.x -= extraWidth;
  }
  return pt;
};


/**
 * rollOutHandler
 * @asprivate
 * @protected
 * @param {org.apache.royale.events.MouseEvent=} event
 */
org.apache.royale.jewel.beads.controls.ToolTip.prototype.rollOutHandler = function(event) {
  event = typeof event !== 'undefined' ? event : null;
  this.removeTip();
};


/**                         	
 *  @copy org.apache.royale.core.IToolTipBead#removeTip()
 *
 *  @langversion 3.0
 *  @playerversion Flash 10.2
 *  @playerversion AIR 2.6
 *  @productversion Royale 0.9.7
 *  @royaleignorecoercion org.apache.royale.events.IEventDispatcher
 */
org.apache.royale.jewel.beads.controls.ToolTip.prototype.removeTip = function() {
  this._strand.removeEventListener("change", org.apache.royale.utils.Language.closure(this.changeHandler, this, 'changeHandler'), false);
  this._strand.removeEventListener(org.apache.royale.events.MouseEvent.MOUSE_OUT, org.apache.royale.utils.Language.closure(this.rollOutHandler, this, 'rollOutHandler'), false);
  if (this.org_apache_royale_jewel_beads_controls_ToolTip_tt) {
    this.org_apache_royale_jewel_beads_controls_ToolTip_host.popUpParent.removeElement(this.org_apache_royale_jewel_beads_controls_ToolTip_tt);
    this.org_apache_royale_jewel_beads_controls_ToolTip_tt = null;
  }
};


/**
 * @nocollapse
 * @export
 * @type {string}
 */
org.apache.royale.jewel.beads.controls.ToolTip.prototype.toolTip;


org.apache.royale.jewel.beads.controls.ToolTip.prototype.get__toolTip = function() {
  return this.org_apache_royale_jewel_beads_controls_ToolTip__toolTip;
};


org.apache.royale.jewel.beads.controls.ToolTip.prototype.set__toolTip = function(value) {
  this.org_apache_royale_jewel_beads_controls_ToolTip__toolTip = value;
};


/**
 * @nocollapse
 * @export
 * @type {string}
 */
org.apache.royale.jewel.beads.controls.ToolTip.prototype.className;


org.apache.royale.jewel.beads.controls.ToolTip.prototype.get__className = function() {
  return this.org_apache_royale_jewel_beads_controls_ToolTip__className;
};


org.apache.royale.jewel.beads.controls.ToolTip.prototype.set__className = function(value) {
  this.org_apache_royale_jewel_beads_controls_ToolTip__className = value;
  if (this.org_apache_royale_jewel_beads_controls_ToolTip_tt)
    this.org_apache_royale_jewel_beads_controls_ToolTip_tt.className = value;
};


/**
 * @nocollapse
 * @export
 * @type {number}
 */
org.apache.royale.jewel.beads.controls.ToolTip.prototype.xPos;


org.apache.royale.jewel.beads.controls.ToolTip.prototype.set__xPos = function(pos) {
  this.org_apache_royale_jewel_beads_controls_ToolTip__xPos = pos;
};


/**
 * @nocollapse
 * @export
 * @type {number}
 */
org.apache.royale.jewel.beads.controls.ToolTip.prototype.yPos;


org.apache.royale.jewel.beads.controls.ToolTip.prototype.set__yPos = function(pos) {
  this.org_apache_royale_jewel_beads_controls_ToolTip__yPos = pos;
};


org.apache.royale.jewel.beads.controls.ToolTip.prototype.set__strand = function(value) {
  org.apache.royale.jewel.beads.controls.ToolTip.superClass_.set__strand.apply(this, [value]);
  if (org.apache.royale.utils.OSUtils.getOS() != org.apache.royale.utils.OSUtils.IOS_OS) {
    this._strand.addEventListener(org.apache.royale.events.MouseEvent.ROLL_OVER, org.apache.royale.utils.Language.closure(this.rollOverHandler, this, 'rollOverHandler'), false);
  }
};


Object.defineProperties(org.apache.royale.jewel.beads.controls.ToolTip.prototype, /** @lends {org.apache.royale.jewel.beads.controls.ToolTip.prototype} */ {
/**
 * @type {string}
 */
toolTip: {
get: org.apache.royale.jewel.beads.controls.ToolTip.prototype.get__toolTip,
set: org.apache.royale.jewel.beads.controls.ToolTip.prototype.set__toolTip},
/**
 * @type {string}
 */
className: {
get: org.apache.royale.jewel.beads.controls.ToolTip.prototype.get__className,
set: org.apache.royale.jewel.beads.controls.ToolTip.prototype.set__className},
/**
 * @type {number}
 */
xPos: {
set: org.apache.royale.jewel.beads.controls.ToolTip.prototype.set__xPos},
/**
 * @type {number}
 */
yPos: {
set: org.apache.royale.jewel.beads.controls.ToolTip.prototype.set__yPos},
/**
 * @type {org.apache.royale.core.IStrand}
 */
strand: {
set: org.apache.royale.jewel.beads.controls.ToolTip.prototype.set__strand}}
);


/**
 * Metadata
 *
 * @type {Object.<string, Array.<Object>>}
 */
org.apache.royale.jewel.beads.controls.ToolTip.prototype.ROYALE_CLASS_INFO = { names: [{ name: 'ToolTip', qName: 'org.apache.royale.jewel.beads.controls.ToolTip', kind: 'class' }], interfaces: [org.apache.royale.core.IBead, org.apache.royale.core.IToolTipBead] };



/**
 * Reflection
 *
 * @return {Object.<string, Function>}
 */
org.apache.royale.jewel.beads.controls.ToolTip.prototype.ROYALE_REFLECTION_INFO = function () {
  return {
    accessors: function () {
      return {
        'toolTip': { type: 'String', access: 'readwrite', declaredBy: 'org.apache.royale.jewel.beads.controls.ToolTip', metadata: function () { return [ { name: 'Bindable', args: [ { key: '', value: 'toolTipChanged' } ] } ]; }},
        'className': { type: 'String', access: 'readwrite', declaredBy: 'org.apache.royale.jewel.beads.controls.ToolTip'},
        'xPos': { type: 'int', access: 'writeonly', declaredBy: 'org.apache.royale.jewel.beads.controls.ToolTip'},
        'yPos': { type: 'int', access: 'writeonly', declaredBy: 'org.apache.royale.jewel.beads.controls.ToolTip'},
        'strand': { type: 'org.apache.royale.core.IStrand', access: 'writeonly', declaredBy: 'org.apache.royale.jewel.beads.controls.ToolTip'}
      };
    },
    methods: function () {
      return {
        'ToolTip': { type: '', declaredBy: 'org.apache.royale.jewel.beads.controls.ToolTip'},
        'removeTip': { type: 'void', declaredBy: 'org.apache.royale.jewel.beads.controls.ToolTip'}
      };
    }
  };
};
/**
 * @const
 * @type {number}
 */
org.apache.royale.jewel.beads.controls.ToolTip.prototype.ROYALE_COMPILE_FLAGS = 10;

//# sourceMappingURL=./ToolTip.js.map
