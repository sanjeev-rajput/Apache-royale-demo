/**
 * Generated by Apache Royale Compiler from org/apache/royale/jewel/beads/layouts/StyledLayoutBase.as
 * org.apache.royale.jewel.beads.layouts.StyledLayoutBase
 *
 * @fileoverview
 *
 * @suppress {missingRequire|checkTypes|accessControls}
 */

goog.provide('org.apache.royale.jewel.beads.layouts.StyledLayoutBase');
/* Royale Dependency List: org.apache.royale.core.ILayoutHost,org.apache.royale.core.ILayoutParent,org.apache.royale.core.IStrand,org.apache.royale.core.IUIBase,org.apache.royale.core.StyledUIBase,org.apache.royale.core.ValuesManager,org.apache.royale.core.layout.ILayoutChildren,org.apache.royale.events.Event,org.apache.royale.utils.loadBeadFromValuesManager,org.apache.royale.utils.sendStrandEvent,org.apache.royale.utils.Language*/

goog.require('org.apache.royale.core.LayoutBase');
goog.require('org.apache.royale.core.layout.ILayoutStyleProperties');



/**
 *  Constructor.
 *
 *  @langversion 3.0
 *  @playerversion Flash 10.2
 *  @playerversion AIR 2.6
 *  @productversion Royale 0.9.4
 * @constructor
 * @extends {org.apache.royale.core.LayoutBase}
 * @implements {org.apache.royale.core.layout.ILayoutStyleProperties}
 */
org.apache.royale.jewel.beads.layouts.StyledLayoutBase = function() {
  org.apache.royale.jewel.beads.layouts.StyledLayoutBase.base(this, 'constructor');
};
goog.inherits(org.apache.royale.jewel.beads.layouts.StyledLayoutBase, org.apache.royale.core.LayoutBase);


/**
 * @nocollapse
 * @const
 * @type {string}
 */
org.apache.royale.jewel.beads.layouts.StyledLayoutBase.LAYOUT_TYPE_NAMES = "";


/**
 * @protected
 * @type {org.apache.royale.core.StyledUIBase}
 */
org.apache.royale.jewel.beads.layouts.StyledLayoutBase.prototype.hostComponent;


/**
 *  Add class selectors when the component is addedToParent
 *  Otherwise component will not get the class selectors when 
 *  perform "removeElement" and then "addElement"
 * 
 *  @langversion 3.0
 *  @playerversion Flash 10.2
 *  @playerversion AIR 2.6
 *  @productversion Royale 0.9.4
 * @param {org.apache.royale.events.Event=} event
 */
org.apache.royale.jewel.beads.layouts.StyledLayoutBase.prototype.beadsAddedHandler = function(event) {
  event = typeof event !== 'undefined' ? event : null;
  this.applyStyleToLayout(this.hostComponent, "itemsExpand");
  this.setHostComponentClass("itemsExpand", this.org_apache_royale_jewel_beads_layouts_StyledLayoutBase__itemsExpand ? "itemsExpand" : "");
  this.applyStyleToLayout(this.hostComponent, "itemsReverse");
  this.setHostComponentClass("itemsReverse", this.org_apache_royale_jewel_beads_layouts_StyledLayoutBase__itemsReverse ? "itemsReverse" : "");
  this.applyStyleToLayout(this.hostComponent, "itemsHorizontalAlign");
  this.setHostComponentClass(this.org_apache_royale_jewel_beads_layouts_StyledLayoutBase__itemsHorizontalAlign, this.org_apache_royale_jewel_beads_layouts_StyledLayoutBase__itemsHorizontalAlign);
  this.applyStyleToLayout(this.hostComponent, "itemsVerticalAlign");
  this.setHostComponentClass(this.org_apache_royale_jewel_beads_layouts_StyledLayoutBase__itemsVerticalAlign, this.org_apache_royale_jewel_beads_layouts_StyledLayoutBase__itemsVerticalAlign);
};


/**
 *  Get the component layout style and init to if exists
 * 
 *  @asparam component the IUIBase component that host this layout
 *  @asparam cssProperty the style property in css set for the component to retrieve
 * 
 *  @langversion 3.0
 *  @playerversion Flash 10.2
 *  @playerversion AIR 2.6
 *  @productversion Royale 0.9.4
 * @param {org.apache.royale.core.IUIBase} component
 * @param {string} cssProperty
 */
org.apache.royale.jewel.beads.layouts.StyledLayoutBase.prototype.applyStyleToLayout = function(component, cssProperty) {
  var /** @type {*} */ cssValue = org.apache.royale.core.ValuesManager.valuesImpl.getValue(component, cssProperty);
  if (cssValue !== undefined) {
    switch (cssProperty) {
      case "itemsExpand":
        if (!this.org_apache_royale_jewel_beads_layouts_StyledLayoutBase_itemsExpandInitialized)
          this.itemsExpand = "true" == cssValue;
        break;
      case "itemsReverse":
        if (!this.org_apache_royale_jewel_beads_layouts_StyledLayoutBase_itemsReverseInitialized)
          this.itemsReverse = "true" == cssValue;
        break;
      case "itemsHorizontalAlign":
        if (!this.itemsHorizontalAlign)
          this.itemsHorizontalAlign = String(cssValue);
        break;
      case "itemsVerticalAlign":
        if (!this.itemsVerticalAlign)
          this.itemsVerticalAlign = String(cssValue);
        break;
      default:
        break;
    }
  }
};


/**
 * @protected
 * @type {boolean}
 */
org.apache.royale.jewel.beads.layouts.StyledLayoutBase.prototype.itemsHorizontalAlignInitialized;


/**
 * @private
 * @type {string}
 */
org.apache.royale.jewel.beads.layouts.StyledLayoutBase.prototype.org_apache_royale_jewel_beads_layouts_StyledLayoutBase__itemsHorizontalAlign;


/**
 * @protected
 * @type {boolean}
 */
org.apache.royale.jewel.beads.layouts.StyledLayoutBase.prototype.itemsVerticalAlignInitialized;


/**
 * @private
 * @type {string}
 */
org.apache.royale.jewel.beads.layouts.StyledLayoutBase.prototype.org_apache_royale_jewel_beads_layouts_StyledLayoutBase__itemsVerticalAlign;


/**
 * @private
 * @type {boolean}
 */
org.apache.royale.jewel.beads.layouts.StyledLayoutBase.prototype.org_apache_royale_jewel_beads_layouts_StyledLayoutBase_itemsExpandInitialized;


/**
 * @private
 * @type {boolean}
 */
org.apache.royale.jewel.beads.layouts.StyledLayoutBase.prototype.org_apache_royale_jewel_beads_layouts_StyledLayoutBase__itemsExpand = false;


/**
 * @private
 * @type {boolean}
 */
org.apache.royale.jewel.beads.layouts.StyledLayoutBase.prototype.org_apache_royale_jewel_beads_layouts_StyledLayoutBase_itemsReverseInitialized;


/**
 * @private
 * @type {boolean}
 */
org.apache.royale.jewel.beads.layouts.StyledLayoutBase.prototype.org_apache_royale_jewel_beads_layouts_StyledLayoutBase__itemsReverse = false;


/**
 * @protected
 * @param {string} oldValue
 * @param {string} newValue
 */
org.apache.royale.jewel.beads.layouts.StyledLayoutBase.prototype.setHostComponentClass = function(oldValue, newValue) {
  if (!this.hostComponent)
    return;
  if (oldValue && this.hostComponent.containsClass(oldValue)) {
    if (oldValue == newValue)
      return;
    this.hostComponent.removeClass(oldValue);
  }
  if (newValue)
    this.hostComponent.addClass(newValue);
};


/**
 * @type {boolean}
 */
org.apache.royale.jewel.beads.layouts.StyledLayoutBase.prototype.waitForSize = false;


/**
 * We call requestAnimationFrame until we get width and height
 * @protected
 */
org.apache.royale.jewel.beads.layouts.StyledLayoutBase.prototype.checkHostSize = function() {
  if ((this.host.width == 0 && !isNaN(this.host.percentWidth)) || (this.host.height == 0 && !isNaN(this.host.percentHeight))) {
    requestAnimationFrame(org.apache.royale.utils.Language.closure(this.checkHostSize, this, 'checkHostSize'));
  } else {
    this.waitForSize = false;
    this.executeLayout();
  }
};


/**
 *  Performs the layout in three parts: before, layout, after.
 *
 *  @langversion 3.0
 *  @playerversion Flash 10.2
 *  @playerversion AIR 2.6
 *  @productversion Royale 0.9.8
 *  @royaleignorecoercion org.apache.royale.core.ILayoutParent
 *  @royaleignorecoercion org.apache.royale.events.IEventDispatcher
 * @override
 */
org.apache.royale.jewel.beads.layouts.StyledLayoutBase.prototype.performLayout = function() {
  if (this.isLayoutRunning)
    return;
  this.isLayoutRunning = true;
  this.viewBead = this.host.getLayoutHost();
  if (this.viewBead.beforeLayout()) {
    
    if (this.waitForSize) {
      this.checkHostSize();
    }
    else
      this.executeLayout();
  }
};


/**
 * @protected
 * @type {org.apache.royale.core.ILayoutHost}
 */
org.apache.royale.jewel.beads.layouts.StyledLayoutBase.prototype.viewBead;


/**
 */
org.apache.royale.jewel.beads.layouts.StyledLayoutBase.prototype.executeLayout = function() {
  if (this.layout()) {
    if (this.layoutChildren)
      this.layoutChildren.executeLayoutChildren();
    this.viewBead.afterLayout();
  }
  this.isLayoutRunning = false;
  org.apache.royale.utils.sendStrandEvent(this._strand, "layoutComplete");
};


/**
 * @private
 * @type {org.apache.royale.core.layout.ILayoutChildren}
 */
org.apache.royale.jewel.beads.layouts.StyledLayoutBase.prototype.org_apache_royale_jewel_beads_layouts_StyledLayoutBase__layoutChildren;


org.apache.royale.jewel.beads.layouts.StyledLayoutBase.prototype.set__strand = function(value) {
  org.apache.royale.jewel.beads.layouts.StyledLayoutBase.superClass_.set__strand.apply(this, [value]);
  this.hostComponent = org.apache.royale.utils.Language.as(this.host, org.apache.royale.core.StyledUIBase);
  this.listenOnStrand("beadsAdded", org.apache.royale.utils.Language.closure(this.beadsAddedHandler, this, 'beadsAddedHandler'));
  this.beadsAddedHandler();
};


/**
 * @nocollapse
 * @export
 * @type {string}
 */
org.apache.royale.jewel.beads.layouts.StyledLayoutBase.prototype.itemsHorizontalAlign;


org.apache.royale.jewel.beads.layouts.StyledLayoutBase.prototype.get__itemsHorizontalAlign = function() {
  return this.org_apache_royale_jewel_beads_layouts_StyledLayoutBase__itemsHorizontalAlign;
};


org.apache.royale.jewel.beads.layouts.StyledLayoutBase.prototype.set__itemsHorizontalAlign = function(value) {
  if (this.org_apache_royale_jewel_beads_layouts_StyledLayoutBase__itemsHorizontalAlign != value) {
    this.setHostComponentClass(this.org_apache_royale_jewel_beads_layouts_StyledLayoutBase__itemsHorizontalAlign, value);
    this.org_apache_royale_jewel_beads_layouts_StyledLayoutBase__itemsHorizontalAlign = value;
    this.itemsHorizontalAlignInitialized = true;
  }
};


/**
 * @nocollapse
 * @export
 * @type {string}
 */
org.apache.royale.jewel.beads.layouts.StyledLayoutBase.prototype.itemsVerticalAlign;


org.apache.royale.jewel.beads.layouts.StyledLayoutBase.prototype.get__itemsVerticalAlign = function() {
  return this.org_apache_royale_jewel_beads_layouts_StyledLayoutBase__itemsVerticalAlign;
};


org.apache.royale.jewel.beads.layouts.StyledLayoutBase.prototype.set__itemsVerticalAlign = function(value) {
  if (value == "itemsCenter")
    value += "ed";
  if (this.org_apache_royale_jewel_beads_layouts_StyledLayoutBase__itemsVerticalAlign != value) {
    this.setHostComponentClass(this.org_apache_royale_jewel_beads_layouts_StyledLayoutBase__itemsVerticalAlign, value);
    this.org_apache_royale_jewel_beads_layouts_StyledLayoutBase__itemsVerticalAlign = value;
    this.itemsVerticalAlignInitialized = true;
  }
};


/**
 * @nocollapse
 * @export
 * @type {boolean}
 */
org.apache.royale.jewel.beads.layouts.StyledLayoutBase.prototype.itemsExpand;


org.apache.royale.jewel.beads.layouts.StyledLayoutBase.prototype.get__itemsExpand = function() {
  return this.org_apache_royale_jewel_beads_layouts_StyledLayoutBase__itemsExpand;
};


org.apache.royale.jewel.beads.layouts.StyledLayoutBase.prototype.set__itemsExpand = function(value) {
  if (this.org_apache_royale_jewel_beads_layouts_StyledLayoutBase__itemsExpand != value) {
    this.setHostComponentClass("itemsExpand", value ? "itemsExpand" : "");
    this.org_apache_royale_jewel_beads_layouts_StyledLayoutBase__itemsExpand = value;
    this.org_apache_royale_jewel_beads_layouts_StyledLayoutBase_itemsExpandInitialized = true;
  }
};


/**
 * @nocollapse
 * @export
 * @type {boolean}
 */
org.apache.royale.jewel.beads.layouts.StyledLayoutBase.prototype.itemsReverse;


org.apache.royale.jewel.beads.layouts.StyledLayoutBase.prototype.get__itemsReverse = function() {
  return this.org_apache_royale_jewel_beads_layouts_StyledLayoutBase__itemsReverse;
};


org.apache.royale.jewel.beads.layouts.StyledLayoutBase.prototype.set__itemsReverse = function(value) {
  if (this.org_apache_royale_jewel_beads_layouts_StyledLayoutBase__itemsReverse != value) {
    this.setHostComponentClass("itemsReverse", value ? "itemsReverse" : "");
    this.org_apache_royale_jewel_beads_layouts_StyledLayoutBase__itemsReverse = value;
    this.org_apache_royale_jewel_beads_layouts_StyledLayoutBase_itemsReverseInitialized = true;
  }
};


/**
 * @nocollapse
 * @export
 * @type {org.apache.royale.core.layout.ILayoutChildren}
 */
org.apache.royale.jewel.beads.layouts.StyledLayoutBase.prototype.layoutChildren;


org.apache.royale.jewel.beads.layouts.StyledLayoutBase.prototype.get__layoutChildren = function() {
  if (!this.org_apache_royale_jewel_beads_layouts_StyledLayoutBase__layoutChildren)
    this.org_apache_royale_jewel_beads_layouts_StyledLayoutBase__layoutChildren = org.apache.royale.utils.Language.as(org.apache.royale.utils.loadBeadFromValuesManager(org.apache.royale.core.layout.ILayoutChildren, "iItemRendererInitializer", this._strand), org.apache.royale.core.layout.ILayoutChildren);
  return this.org_apache_royale_jewel_beads_layouts_StyledLayoutBase__layoutChildren;
};


org.apache.royale.jewel.beads.layouts.StyledLayoutBase.prototype.set__layoutChildren = function(value) {
  this.org_apache_royale_jewel_beads_layouts_StyledLayoutBase__layoutChildren = value;
};


Object.defineProperties(org.apache.royale.jewel.beads.layouts.StyledLayoutBase.prototype, /** @lends {org.apache.royale.jewel.beads.layouts.StyledLayoutBase.prototype} */ {
/**
 * @type {org.apache.royale.core.IStrand}
 */
strand: {
set: org.apache.royale.jewel.beads.layouts.StyledLayoutBase.prototype.set__strand},
/**
 * @type {string}
 */
itemsHorizontalAlign: {
get: org.apache.royale.jewel.beads.layouts.StyledLayoutBase.prototype.get__itemsHorizontalAlign,
set: org.apache.royale.jewel.beads.layouts.StyledLayoutBase.prototype.set__itemsHorizontalAlign},
/**
 * @type {string}
 */
itemsVerticalAlign: {
get: org.apache.royale.jewel.beads.layouts.StyledLayoutBase.prototype.get__itemsVerticalAlign,
set: org.apache.royale.jewel.beads.layouts.StyledLayoutBase.prototype.set__itemsVerticalAlign},
/**
 * @type {boolean}
 */
itemsExpand: {
get: org.apache.royale.jewel.beads.layouts.StyledLayoutBase.prototype.get__itemsExpand,
set: org.apache.royale.jewel.beads.layouts.StyledLayoutBase.prototype.set__itemsExpand},
/**
 * @type {boolean}
 */
itemsReverse: {
get: org.apache.royale.jewel.beads.layouts.StyledLayoutBase.prototype.get__itemsReverse,
set: org.apache.royale.jewel.beads.layouts.StyledLayoutBase.prototype.set__itemsReverse},
/**
 * @type {org.apache.royale.core.layout.ILayoutChildren}
 */
layoutChildren: {
get: org.apache.royale.jewel.beads.layouts.StyledLayoutBase.prototype.get__layoutChildren,
set: org.apache.royale.jewel.beads.layouts.StyledLayoutBase.prototype.set__layoutChildren}}
);


/**
 * Metadata
 *
 * @type {Object.<string, Array.<Object>>}
 */
org.apache.royale.jewel.beads.layouts.StyledLayoutBase.prototype.ROYALE_CLASS_INFO = { names: [{ name: 'StyledLayoutBase', qName: 'org.apache.royale.jewel.beads.layouts.StyledLayoutBase', kind: 'class' }], interfaces: [org.apache.royale.core.layout.ILayoutStyleProperties] };



/**
 * Reflection
 *
 * @return {Object.<string, Function>}
 */
org.apache.royale.jewel.beads.layouts.StyledLayoutBase.prototype.ROYALE_REFLECTION_INFO = function () {
  return {
    variables: function () {
      return {
        'waitForSize': { type: 'Boolean', get_set: function (/** org.apache.royale.jewel.beads.layouts.StyledLayoutBase */ inst, /** * */ v) {return v !== undefined ? inst.waitForSize = v : inst.waitForSize;}}
      };
    },
    accessors: function () {
      return {
        'strand': { type: 'org.apache.royale.core.IStrand', access: 'writeonly', declaredBy: 'org.apache.royale.jewel.beads.layouts.StyledLayoutBase'},
        'itemsHorizontalAlign': { type: 'String', access: 'readwrite', declaredBy: 'org.apache.royale.jewel.beads.layouts.StyledLayoutBase'},
        'itemsVerticalAlign': { type: 'String', access: 'readwrite', declaredBy: 'org.apache.royale.jewel.beads.layouts.StyledLayoutBase'},
        'itemsExpand': { type: 'Boolean', access: 'readwrite', declaredBy: 'org.apache.royale.jewel.beads.layouts.StyledLayoutBase'},
        'itemsReverse': { type: 'Boolean', access: 'readwrite', declaredBy: 'org.apache.royale.jewel.beads.layouts.StyledLayoutBase'},
        'layoutChildren': { type: 'org.apache.royale.core.layout.ILayoutChildren', access: 'readwrite', declaredBy: 'org.apache.royale.jewel.beads.layouts.StyledLayoutBase'}
      };
    },
    methods: function () {
      return {
        'StyledLayoutBase': { type: '', declaredBy: 'org.apache.royale.jewel.beads.layouts.StyledLayoutBase'},
        'beadsAddedHandler': { type: 'void', declaredBy: 'org.apache.royale.jewel.beads.layouts.StyledLayoutBase', parameters: function () { return [ 'org.apache.royale.events.Event', true ]; }},
        'applyStyleToLayout': { type: 'void', declaredBy: 'org.apache.royale.jewel.beads.layouts.StyledLayoutBase', parameters: function () { return [ 'org.apache.royale.core.IUIBase', false ,'String', false ]; }},
        'performLayout': { type: 'void', declaredBy: 'org.apache.royale.jewel.beads.layouts.StyledLayoutBase'},
        'executeLayout': { type: 'void', declaredBy: 'org.apache.royale.jewel.beads.layouts.StyledLayoutBase'}
      };
    }
  };
};
/**
 * @const
 * @type {number}
 */
org.apache.royale.jewel.beads.layouts.StyledLayoutBase.prototype.ROYALE_COMPILE_FLAGS = 10;

//# sourceMappingURL=./StyledLayoutBase.js.map
