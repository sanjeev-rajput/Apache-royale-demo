/**
 * Generated by Apache Royale Compiler from org/apache/royale/jewel/beads/views/AlertView.as
 * org.apache.royale.jewel.beads.views.AlertView
 *
 * @fileoverview
 *
 * @suppress {missingRequire|checkTypes|accessControls}
 */

goog.provide('org.apache.royale.jewel.beads.views.AlertView');
/* Royale Dependency List: org.apache.royale.core.IAlertModel,org.apache.royale.core.IParent,org.apache.royale.core.IStrand,org.apache.royale.core.StyledUIBase,org.apache.royale.core.UIBase,org.apache.royale.events.CloseEvent,org.apache.royale.events.IEventDispatcher,org.apache.royale.events.MouseEvent,org.apache.royale.jewel.Alert,org.apache.royale.jewel.Button,org.apache.royale.jewel.Group,org.apache.royale.jewel.HGroup,org.apache.royale.jewel.Label,org.apache.royale.jewel.TitleBar,org.apache.royale.jewel.VGroup,org.apache.royale.jewel.beads.views.AlertTitleBarView,org.apache.royale.utils.Language*/

goog.require('org.apache.royale.html.beads.GroupView');



/**
 *  constructor.
 *
 *  @langversion 3.0
 *  @playerversion Flash 10.2
 *  @playerversion AIR 2.6
 *  @productversion Royale 0.9.4
 * @constructor
 * @extends {org.apache.royale.html.beads.GroupView}
 */
org.apache.royale.jewel.beads.views.AlertView = function() {
  org.apache.royale.jewel.beads.views.AlertView.base(this, 'constructor');
};
goog.inherits(org.apache.royale.jewel.beads.views.AlertView, org.apache.royale.html.beads.GroupView);


/**
 * @protected
 * @type {org.apache.royale.core.IAlertModel}
 */
org.apache.royale.jewel.beads.views.AlertView.prototype.alertModel;


/**
 * @type {org.apache.royale.jewel.TitleBar}
 */
org.apache.royale.jewel.beads.views.AlertView.prototype.titleBar;


/**
 * @type {org.apache.royale.jewel.Group}
 */
org.apache.royale.jewel.beads.views.AlertView.prototype.content;


/**
 * @type {org.apache.royale.jewel.Label}
 */
org.apache.royale.jewel.beads.views.AlertView.prototype.label;


/**
 * @type {org.apache.royale.core.UIBase}
 */
org.apache.royale.jewel.beads.views.AlertView.prototype.controlBar;


/**
 * @type {org.apache.royale.jewel.Button}
 */
org.apache.royale.jewel.beads.views.AlertView.prototype.okButton;


/**
 * @type {org.apache.royale.jewel.Button}
 */
org.apache.royale.jewel.beads.views.AlertView.prototype.cancelButton;


/**
 * @type {org.apache.royale.jewel.Button}
 */
org.apache.royale.jewel.beads.views.AlertView.prototype.yesButton;


/**
 * @type {org.apache.royale.jewel.Button}
 */
org.apache.royale.jewel.beads.views.AlertView.prototype.noButton;


/**
 * @protected
 */
org.apache.royale.jewel.beads.views.AlertView.prototype.createContent = function() {
  this.label = new org.apache.royale.jewel.Label();
  this.label.multiline = true;
  this.label.html = this.alertModel.message ? this.alertModel.message : "";
  this.content = new org.apache.royale.jewel.VGroup();
  this.content.addClass("content");
  this.content.addElement(this.label);
  org.apache.royale.utils.Language.as(this._strand, org.apache.royale.core.IParent, true).addElement(this.content);
};


/**
 * @protected
 */
org.apache.royale.jewel.beads.views.AlertView.prototype.prepareForPopUp = function() {
  org.apache.royale.utils.Language.as(this._strand, org.apache.royale.core.UIBase, true).element.classList.add("open");
};


/**
 * @protected
 */
org.apache.royale.jewel.beads.views.AlertView.prototype.createButtons = function() {
  
  this.controlBar = new org.apache.royale.jewel.HGroup();
  this.controlBar.className = "controlbar";
  org.apache.royale.utils.Language.as(this.controlBar, org.apache.royale.jewel.HGroup).itemsHorizontalAlign = "itemsRight";
  org.apache.royale.utils.Language.as(this.controlBar, org.apache.royale.jewel.HGroup).gap = 2;
  var /** @type {number} */ flags = this.alertModel.flags;
  if (flags & org.apache.royale.jewel.Alert.OK) {
    this.okButton = new org.apache.royale.jewel.Button();
    this.okButton.width = 100;
    this.okButton.emphasis = org.apache.royale.core.StyledUIBase.PRIMARY;
    this.okButton.text = this.alertModel.okLabel;
    this.okButton.addEventListener(org.apache.royale.events.MouseEvent.CLICK, org.apache.royale.utils.Language.closure(this.handleOK, this, 'handleOK'));
    this.controlBar.addElement(this.okButton);
  }
  if (flags & org.apache.royale.jewel.Alert.CANCEL) {
    this.cancelButton = new org.apache.royale.jewel.Button();
    this.cancelButton.width = 100;
    this.cancelButton.text = this.alertModel.cancelLabel;
    this.cancelButton.addEventListener(org.apache.royale.events.MouseEvent.CLICK, org.apache.royale.utils.Language.closure(this.handleCancel, this, 'handleCancel'));
    this.controlBar.addElement(this.cancelButton);
  }
  if (flags & org.apache.royale.jewel.Alert.YES) {
    this.yesButton = new org.apache.royale.jewel.Button();
    this.yesButton.width = 100;
    this.yesButton.emphasis = org.apache.royale.core.StyledUIBase.PRIMARY;
    this.yesButton.text = this.alertModel.yesLabel;
    this.yesButton.addEventListener(org.apache.royale.events.MouseEvent.CLICK, org.apache.royale.utils.Language.closure(this.handleYes, this, 'handleYes'));
    this.controlBar.addElement(this.yesButton);
  }
  if (flags & org.apache.royale.jewel.Alert.NO) {
    this.noButton = new org.apache.royale.jewel.Button();
    this.noButton.width = 100;
    this.noButton.text = this.alertModel.noLabel;
    this.noButton.addEventListener(org.apache.royale.events.MouseEvent.CLICK, org.apache.royale.utils.Language.closure(this.handleNo, this, 'handleNo'));
    this.controlBar.addElement(this.noButton);
  }
};


/**
 * @asprivate
 * @protected
 * @param {org.apache.royale.events.MouseEvent} event
 */
org.apache.royale.jewel.beads.views.AlertView.prototype.handleOK = function(event) {
  this.dispatchCloseEvent(org.apache.royale.jewel.Alert.OK);
};


/**
 * @asprivate
 * @protected
 * @param {org.apache.royale.events.MouseEvent} event
 */
org.apache.royale.jewel.beads.views.AlertView.prototype.handleCancel = function(event) {
  this.dispatchCloseEvent(org.apache.royale.jewel.Alert.CANCEL);
};


/**
 * @asprivate
 * @protected
 * @param {org.apache.royale.events.MouseEvent} event
 */
org.apache.royale.jewel.beads.views.AlertView.prototype.handleYes = function(event) {
  this.dispatchCloseEvent(org.apache.royale.jewel.Alert.YES);
};


/**
 * @asprivate
 * @protected
 * @param {org.apache.royale.events.MouseEvent} event
 */
org.apache.royale.jewel.beads.views.AlertView.prototype.handleNo = function(event) {
  this.dispatchCloseEvent(org.apache.royale.jewel.Alert.NO);
};


/**
 * @asprivate
 * @param {number} buttonFlag
 */
org.apache.royale.jewel.beads.views.AlertView.prototype.dispatchCloseEvent = function(buttonFlag) {
  var /** @type {org.apache.royale.events.CloseEvent} */ closeEvent = new org.apache.royale.events.CloseEvent("close", false, false, buttonFlag);
  org.apache.royale.utils.Language.as(this._strand, org.apache.royale.events.IEventDispatcher, true).dispatchEvent(closeEvent);
};


org.apache.royale.jewel.beads.views.AlertView.prototype.set__strand = function(value) {
  org.apache.royale.jewel.beads.views.AlertView.superClass_.set__strand.apply(this, [value]);
  
  this.alertModel = org.apache.royale.utils.Language.as(org.apache.royale.utils.Language.as(this._strand, org.apache.royale.core.UIBase).model, org.apache.royale.core.IAlertModel);
  this.titleBar = new org.apache.royale.jewel.TitleBar();
  this.titleBar.addBead(new org.apache.royale.jewel.beads.views.AlertTitleBarView());
  this.titleBar.title = this.alertModel.title;
  org.apache.royale.utils.Language.as(this._strand, org.apache.royale.core.IParent, true).addElement(this.titleBar);
  this.createContent();
  this.createButtons();
  org.apache.royale.utils.Language.as(this._strand, org.apache.royale.core.IParent, true).addElement(this.controlBar);
  
  setTimeout(org.apache.royale.utils.Language.closure(this.prepareForPopUp, this, 'prepareForPopUp'), 300);
};


Object.defineProperties(org.apache.royale.jewel.beads.views.AlertView.prototype, /** @lends {org.apache.royale.jewel.beads.views.AlertView.prototype} */ {
/**
 * @type {org.apache.royale.core.IStrand}
 */
strand: {
set: org.apache.royale.jewel.beads.views.AlertView.prototype.set__strand}}
);


/**
 * Metadata
 *
 * @type {Object.<string, Array.<Object>>}
 */
org.apache.royale.jewel.beads.views.AlertView.prototype.ROYALE_CLASS_INFO = { names: [{ name: 'AlertView', qName: 'org.apache.royale.jewel.beads.views.AlertView', kind: 'class' }] };



/**
 * Reflection
 *
 * @return {Object.<string, Function>}
 */
org.apache.royale.jewel.beads.views.AlertView.prototype.ROYALE_REFLECTION_INFO = function () {
  return {
    variables: function () {
      return {
        'titleBar': { type: 'org.apache.royale.jewel.TitleBar', get_set: function (/** org.apache.royale.jewel.beads.views.AlertView */ inst, /** * */ v) {return v !== undefined ? inst.titleBar = v : inst.titleBar;}},
        'content': { type: 'org.apache.royale.jewel.Group', get_set: function (/** org.apache.royale.jewel.beads.views.AlertView */ inst, /** * */ v) {return v !== undefined ? inst.content = v : inst.content;}},
        'label': { type: 'org.apache.royale.jewel.Label', get_set: function (/** org.apache.royale.jewel.beads.views.AlertView */ inst, /** * */ v) {return v !== undefined ? inst.label = v : inst.label;}},
        'controlBar': { type: 'org.apache.royale.core.UIBase', get_set: function (/** org.apache.royale.jewel.beads.views.AlertView */ inst, /** * */ v) {return v !== undefined ? inst.controlBar = v : inst.controlBar;}},
        'okButton': { type: 'org.apache.royale.jewel.Button', get_set: function (/** org.apache.royale.jewel.beads.views.AlertView */ inst, /** * */ v) {return v !== undefined ? inst.okButton = v : inst.okButton;}},
        'cancelButton': { type: 'org.apache.royale.jewel.Button', get_set: function (/** org.apache.royale.jewel.beads.views.AlertView */ inst, /** * */ v) {return v !== undefined ? inst.cancelButton = v : inst.cancelButton;}},
        'yesButton': { type: 'org.apache.royale.jewel.Button', get_set: function (/** org.apache.royale.jewel.beads.views.AlertView */ inst, /** * */ v) {return v !== undefined ? inst.yesButton = v : inst.yesButton;}},
        'noButton': { type: 'org.apache.royale.jewel.Button', get_set: function (/** org.apache.royale.jewel.beads.views.AlertView */ inst, /** * */ v) {return v !== undefined ? inst.noButton = v : inst.noButton;}}
      };
    },
    accessors: function () {
      return {
        'strand': { type: 'org.apache.royale.core.IStrand', access: 'writeonly', declaredBy: 'org.apache.royale.jewel.beads.views.AlertView'}
      };
    },
    methods: function () {
      return {
        'AlertView': { type: '', declaredBy: 'org.apache.royale.jewel.beads.views.AlertView'},
        'dispatchCloseEvent': { type: 'void', declaredBy: 'org.apache.royale.jewel.beads.views.AlertView', parameters: function () { return [ 'uint', false ]; }}
      };
    }
  };
};
/**
 * @const
 * @type {number}
 */
org.apache.royale.jewel.beads.views.AlertView.prototype.ROYALE_COMPILE_FLAGS = 10;

//# sourceMappingURL=./AlertView.js.map
