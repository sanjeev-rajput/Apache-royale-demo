/**
 * Generated by Apache Royale Compiler from org/apache/royale/textLayout/elements/ElementHelper.as
 * org.apache.royale.textLayout.elements.ElementHelper
 *
 * @fileoverview
 *
 * @suppress {missingRequire|checkTypes|accessControls}
 */

goog.provide('org.apache.royale.textLayout.elements.ElementHelper');
/* Royale Dependency List: org.apache.royale.reflection.getQualifiedClassName,org.apache.royale.textLayout.elements.BreakElement,org.apache.royale.textLayout.elements.GlobalSettings,org.apache.royale.textLayout.elements.IContainerFormattedElement,org.apache.royale.textLayout.elements.IFlowElement,org.apache.royale.textLayout.elements.IInlineGraphicElement,org.apache.royale.textLayout.elements.ILinkElement,org.apache.royale.textLayout.elements.IListElement,org.apache.royale.textLayout.elements.IListItemElement,org.apache.royale.textLayout.elements.IParagraphElement,org.apache.royale.textLayout.elements.ISpanElement,org.apache.royale.textLayout.elements.ISubParagraphGroupElementBase,org.apache.royale.textLayout.elements.ITCYElement,org.apache.royale.textLayout.elements.ITableCellElement,org.apache.royale.textLayout.elements.ITableRowElement,org.apache.royale.textLayout.elements.ITextFlow,org.apache.royale.textLayout.elements.InlineGraphicElement,org.apache.royale.textLayout.elements.LinkElement,org.apache.royale.textLayout.elements.ListElement,org.apache.royale.textLayout.elements.ListItemElement,org.apache.royale.textLayout.elements.ParagraphElement,org.apache.royale.textLayout.elements.SpanElement,org.apache.royale.textLayout.elements.TCYElement,org.apache.royale.textLayout.elements.TabElement,org.apache.royale.textLayout.elements.TableCellElement,org.apache.royale.textLayout.elements.TableRowElement,org.apache.royale.textLayout.elements.TextFlow,org.apache.royale.textLayout.factory.ITLFFactory,org.apache.royale.textLayout.factory.TLFFactory,org.apache.royale.textLayout.formats.ITextLayoutFormat,org.apache.royale.utils.Language,XML*/




/**
 * @constructor
 */
org.apache.royale.textLayout.elements.ElementHelper = function() {
};


/**
 * @nocollapse
 * @param {org.apache.royale.textLayout.elements.IContainerFormattedElement} container
 */
org.apache.royale.textLayout.elements.ElementHelper.normalizeContainerFormatRange = function(container) {
  if (container.numChildren == 0) {
    var /** @type {org.apache.royale.textLayout.elements.IParagraphElement} */ p = org.apache.royale.textLayout.elements.ElementHelper.getParagraph();
    if (container.canOwnFlowElement(p)) {
      p.replaceChildren(0, 0, org.apache.royale.textLayout.elements.ElementHelper.getSpan());
      container.replaceChildren(0, 0, p);
      
      p.normalizeRange(0, (p.textLength) >>> 0);
    }
  }
};


/**
 * @nocollapse
 * @param {org.apache.royale.textLayout.elements.ISubParagraphGroupElementBase} range
 */
org.apache.royale.textLayout.elements.ElementHelper.normalizeSubParagraphRange = function(range) {
  if (range.numChildren == 0 && range.parent != null) {
    var /** @type {org.apache.royale.textLayout.elements.SpanElement} */ s = new org.apache.royale.textLayout.elements.SpanElement();
    range.replaceChildren(0, 0, s);
    s.normalizeRange(0, (s.textLength) >>> 0);
  }
};


/**
 * @nocollapse
 * @param {org.apache.royale.textLayout.factory.ITLFFactory=} factory
 * @return {org.apache.royale.textLayout.elements.ITextFlow}
 */
org.apache.royale.textLayout.elements.ElementHelper.getDefaultTextFlow = function(factory) {
  factory = typeof factory !== 'undefined' ? factory : null;
  if (!factory)
    factory = org.apache.royale.textLayout.factory.TLFFactory.defaultTLFFactory;
  return new org.apache.royale.textLayout.elements.TextFlow(factory);
};


/**
 * @nocollapse
 * @param {org.apache.royale.textLayout.elements.IParagraphElement} para
 * @param {org.apache.royale.textLayout.elements.IFlowElement} newLeaf
 * @return {org.apache.royale.textLayout.elements.ISpanElement}
 */
org.apache.royale.textLayout.elements.ElementHelper.getTerminator = function(para, newLeaf) {
  var /** @type {org.apache.royale.textLayout.elements.SpanElement} */ s = new org.apache.royale.textLayout.elements.SpanElement();
  s.format = newLeaf ? newLeaf.format : para.terminatorSpan.format;
  s.addParaTerminator();
  return s;
};


/**
 * @nocollapse
 * @return {org.apache.royale.textLayout.elements.IListElement}
 */
org.apache.royale.textLayout.elements.ElementHelper.getList = function() {
  return new org.apache.royale.textLayout.elements.ListElement();
};


/**
 * @nocollapse
 * @return {org.apache.royale.textLayout.elements.IListItemElement}
 */
org.apache.royale.textLayout.elements.ElementHelper.getListItem = function() {
  return new org.apache.royale.textLayout.elements.ListItemElement();
};


/**
 * @nocollapse
 * @return {org.apache.royale.textLayout.elements.IParagraphElement}
 */
org.apache.royale.textLayout.elements.ElementHelper.getParagraph = function() {
  var /** @type {org.apache.royale.textLayout.elements.IParagraphElement} */ p = new org.apache.royale.textLayout.elements.ParagraphElement();
  p.replaceChildren(0, 0, new org.apache.royale.textLayout.elements.SpanElement());
  p.normalizeRange(0, (p.textLength) >>> 0);
  return p;
};


/**
 * @nocollapse
 * @return {org.apache.royale.textLayout.elements.ISpanElement}
 */
org.apache.royale.textLayout.elements.ElementHelper.getSpan = function() {
  return new org.apache.royale.textLayout.elements.SpanElement();
};


/**
 * @nocollapse
 * @return {org.apache.royale.textLayout.elements.ILinkElement}
 */
org.apache.royale.textLayout.elements.ElementHelper.getLink = function() {
  return new org.apache.royale.textLayout.elements.LinkElement();
};


/**
 * @nocollapse
 * @return {org.apache.royale.textLayout.elements.ITCYElement}
 */
org.apache.royale.textLayout.elements.ElementHelper.getTCY = function() {
  return new org.apache.royale.textLayout.elements.TCYElement();
};


/**
 * @nocollapse
 * @return {org.apache.royale.textLayout.elements.IInlineGraphicElement}
 */
org.apache.royale.textLayout.elements.ElementHelper.getInline = function() {
  return new org.apache.royale.textLayout.elements.InlineGraphicElement();
};


/**
 * @nocollapse
 * @return {org.apache.royale.textLayout.elements.ITableCellElement}
 */
org.apache.royale.textLayout.elements.ElementHelper.getTableCell = function() {
  return new org.apache.royale.textLayout.elements.TableCellElement();
};


/**
 * @nocollapse
 * @param {org.apache.royale.textLayout.formats.ITextLayoutFormat=} format
 * @return {org.apache.royale.textLayout.elements.ITableRowElement}
 */
org.apache.royale.textLayout.elements.ElementHelper.getTableRow = function(format) {
  format = typeof format !== 'undefined' ? format : null;
  return new org.apache.royale.textLayout.elements.TableRowElement(format);
};


/**
 * @nocollapse
 * @param {Array} children
 * @return {string}
 */
org.apache.royale.textLayout.elements.ElementHelper.getSpanText = function(children) {
  var /** @type {string} */ str = "";
  var /** @type {number} */ len = (children.length) >> 0;
  for (var /** @type {number} */ i = 0; i < len; i++) {
    var /** @type {Object} */ elem = children[i];
    if (org.apache.royale.utils.Language.is(elem, String))
      str += elem;
    else if (org.apache.royale.utils.Language.is(elem, Number))
      str += elem.toString();
    else if (org.apache.royale.utils.Language.is(elem, org.apache.royale.textLayout.elements.BreakElement))
      str += String.fromCharCode(0x2028); else if (org.apache.royale.utils.Language.is(elem, org.apache.royale.textLayout.elements.TabElement)) {
      str += String.fromCharCode(0xE000);
    }
    else if (elem != null)
      throw new TypeError(org.apache.royale.textLayout.elements.GlobalSettings.resourceStringFunction("badMXMLChildrenArgument", [org.apache.royale.reflection.getQualifiedClassName(elem)]));
  }
  return str;
};


/**
 * Metadata
 *
 * @type {Object.<string, Array.<Object>>}
 */
org.apache.royale.textLayout.elements.ElementHelper.prototype.ROYALE_CLASS_INFO = { names: [{ name: 'ElementHelper', qName: 'org.apache.royale.textLayout.elements.ElementHelper', kind: 'class' }] };



/**
 * Reflection
 *
 * @return {Object.<string, Function>}
 */
org.apache.royale.textLayout.elements.ElementHelper.prototype.ROYALE_REFLECTION_INFO = function () {
  return {
    methods: function () {
      return {
        '|normalizeContainerFormatRange': { type: 'void', declaredBy: 'org.apache.royale.textLayout.elements.ElementHelper', parameters: function () { return [ 'org.apache.royale.textLayout.elements.IContainerFormattedElement', false ]; }},
        '|normalizeSubParagraphRange': { type: 'void', declaredBy: 'org.apache.royale.textLayout.elements.ElementHelper', parameters: function () { return [ 'org.apache.royale.textLayout.elements.ISubParagraphGroupElementBase', false ]; }},
        '|getDefaultTextFlow': { type: 'org.apache.royale.textLayout.elements.ITextFlow', declaredBy: 'org.apache.royale.textLayout.elements.ElementHelper', parameters: function () { return [ 'org.apache.royale.textLayout.factory.ITLFFactory', true ]; }},
        '|getTerminator': { type: 'org.apache.royale.textLayout.elements.ISpanElement', declaredBy: 'org.apache.royale.textLayout.elements.ElementHelper', parameters: function () { return [ 'org.apache.royale.textLayout.elements.IParagraphElement', false ,'org.apache.royale.textLayout.elements.IFlowElement', false ]; }},
        '|getList': { type: 'org.apache.royale.textLayout.elements.IListElement', declaredBy: 'org.apache.royale.textLayout.elements.ElementHelper'},
        '|getListItem': { type: 'org.apache.royale.textLayout.elements.IListItemElement', declaredBy: 'org.apache.royale.textLayout.elements.ElementHelper'},
        '|getParagraph': { type: 'org.apache.royale.textLayout.elements.IParagraphElement', declaredBy: 'org.apache.royale.textLayout.elements.ElementHelper'},
        '|getSpan': { type: 'org.apache.royale.textLayout.elements.ISpanElement', declaredBy: 'org.apache.royale.textLayout.elements.ElementHelper'},
        '|getLink': { type: 'org.apache.royale.textLayout.elements.ILinkElement', declaredBy: 'org.apache.royale.textLayout.elements.ElementHelper'},
        '|getTCY': { type: 'org.apache.royale.textLayout.elements.ITCYElement', declaredBy: 'org.apache.royale.textLayout.elements.ElementHelper'},
        '|getInline': { type: 'org.apache.royale.textLayout.elements.IInlineGraphicElement', declaredBy: 'org.apache.royale.textLayout.elements.ElementHelper'},
        '|getTableCell': { type: 'org.apache.royale.textLayout.elements.ITableCellElement', declaredBy: 'org.apache.royale.textLayout.elements.ElementHelper'},
        '|getTableRow': { type: 'org.apache.royale.textLayout.elements.ITableRowElement', declaredBy: 'org.apache.royale.textLayout.elements.ElementHelper', parameters: function () { return [ 'org.apache.royale.textLayout.formats.ITextLayoutFormat', true ]; }},
        '|getSpanText': { type: 'String', declaredBy: 'org.apache.royale.textLayout.elements.ElementHelper', parameters: function () { return [ 'Array', false ]; }}
      };
    }
  };
};
/**
 * @const
 * @type {number}
 */
org.apache.royale.textLayout.elements.ElementHelper.prototype.ROYALE_COMPILE_FLAGS = 10;

//# sourceMappingURL=./ElementHelper.js.map
