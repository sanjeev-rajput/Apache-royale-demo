/**
 * Generated by Apache Royale Compiler from org/apache/royale/textLayout/elements/SpecialCharacterElement.as
 * org.apache.royale.textLayout.elements.SpecialCharacterElement
 *
 * @fileoverview
 *
 * @suppress {missingRequire|checkTypes|accessControls}
 */

goog.provide('org.apache.royale.textLayout.elements.SpecialCharacterElement');
/* Royale Dependency List: org.apache.royale.textLayout.elements.ElementHelper,org.apache.royale.textLayout.elements.ISpanElement,org.apache.royale.textLayout.formats.TextLayoutFormat,org.apache.royale.textLayout.formats.WhiteSpaceCollapse,org.apache.royale.utils.Language,XML*/

goog.require('org.apache.royale.textLayout.elements.SpanElement');
goog.require('org.apache.royale.textLayout.elements.ISpecialCharacterElement');



/**  
 * Base class - invoking <code>new SpecialCharacterElement()</code> throws an error exception.
 * 
 * @playerversion Flash 10
 * @playerversion AIR 1.5
 * @langversion 3.0 
 * @constructor
 * @extends {org.apache.royale.textLayout.elements.SpanElement}
 * @implements {org.apache.royale.textLayout.elements.ISpecialCharacterElement}
 */
org.apache.royale.textLayout.elements.SpecialCharacterElement = function() {
  org.apache.royale.textLayout.elements.SpecialCharacterElement.base(this, 'constructor');
  this.whiteSpaceCollapse = org.apache.royale.textLayout.formats.WhiteSpaceCollapse.PRESERVE;
};
goog.inherits(org.apache.royale.textLayout.elements.SpecialCharacterElement, org.apache.royale.textLayout.elements.SpanElement);


/**
 *  @asprivate
 * @royaleignorecoercion org.apache.royale.textLayout.elements.ISpanElement
 * @override
 */
org.apache.royale.textLayout.elements.SpecialCharacterElement.prototype.mergeToPreviousIfPossible = function() {
  if (this.parent) {
    var /** @type {number} */ myidx = this.parent.getChildIndex(this);
    if (myidx != 0) {
      var /** @type {Object} */ sib = this.parent.getChildAt((myidx - 1) >> 0);
      if (sib != null && org.apache.royale.utils.Language.is(sib, org.apache.royale.textLayout.elements.SpanElement) && org.apache.royale.textLayout.formats.TextLayoutFormat.isEqual(sib.format, this.format)) {
        
        var /** @type {number} */ siblingInsertPosition = sib.textLength;
        sib.replaceText(siblingInsertPosition, siblingInsertPosition, this.text);
        this.parent.replaceChildren(myidx, (myidx + 1) >> 0);
        return true;
      }
    }
    var /** @type {Object} */ newSib = org.apache.royale.textLayout.elements.ElementHelper.getSpan();
    newSib.text = this.text;
    newSib.format = this.format;
    this.parent.replaceChildren(myidx, (myidx + 1) >> 0, newSib);
    newSib.normalizeRange(0, (newSib.textLength) >>> 0);
    return false;
  }
  return false;
};


org.apache.royale.textLayout.elements.SpecialCharacterElement.prototype.get__className = function() {
  return "SpecialCharacterElement";
};


Object.defineProperties(org.apache.royale.textLayout.elements.SpecialCharacterElement.prototype, /** @lends {org.apache.royale.textLayout.elements.SpecialCharacterElement.prototype} */ {
/**
 * @type {string}
 */
className: {
get: org.apache.royale.textLayout.elements.SpecialCharacterElement.prototype.get__className}}
);


/**
 * Metadata
 *
 * @type {Object.<string, Array.<Object>>}
 */
org.apache.royale.textLayout.elements.SpecialCharacterElement.prototype.ROYALE_CLASS_INFO = { names: [{ name: 'SpecialCharacterElement', qName: 'org.apache.royale.textLayout.elements.SpecialCharacterElement', kind: 'class' }], interfaces: [org.apache.royale.textLayout.elements.ISpecialCharacterElement] };



/**
 * Reflection
 *
 * @return {Object.<string, Function>}
 */
org.apache.royale.textLayout.elements.SpecialCharacterElement.prototype.ROYALE_REFLECTION_INFO = function () {
  return {
    accessors: function () {
      return {
        'className': { type: 'String', access: 'readonly', declaredBy: 'org.apache.royale.textLayout.elements.SpecialCharacterElement'}
      };
    },
    methods: function () {
      return {
        'SpecialCharacterElement': { type: '', declaredBy: 'org.apache.royale.textLayout.elements.SpecialCharacterElement'},
        'mergeToPreviousIfPossible': { type: 'Boolean', declaredBy: 'org.apache.royale.textLayout.elements.SpecialCharacterElement'}
      };
    }
  };
};
/**
 * @const
 * @type {number}
 */
org.apache.royale.textLayout.elements.SpecialCharacterElement.prototype.ROYALE_COMPILE_FLAGS = 10;

//# sourceMappingURL=./SpecialCharacterElement.js.map
