/**
 * Generated by Apache Royale Compiler from com/util/preloader/DsPreloader.as
 * com.util.preloader.DsPreloader
 *
 * @fileoverview
 *
 * @suppress {missingRequire|checkTypes|accessControls}
 */

goog.provide('com.util.preloader.DsPreloader');
/* Royale Dependency List: com.unhurdle.spectrum.Application,org.apache.royale.jewel.SimpleLoader,org.apache.royale.utils.Language,XML*/
goog.provide('com.util.preloader.DsPreloader.SingletonEnforcer');




/**
 * @constructor
 * @param {com.util.preloader.DsPreloader.SingletonEnforcer} enforcer
 */
com.util.preloader.DsPreloader = function(enforcer) {

this.com_util_preloader_DsPreloader_loaderObj = new Array();
};


/**
 * @private
 * @type {com.util.preloader.DsPreloader}
 */
com.util.preloader.DsPreloader._instance = null;


/**
 * @private
 * @type {Array}
 */
com.util.preloader.DsPreloader.prototype.com_util_preloader_DsPreloader_loaderObj = null;


/**
 * @private
 * @type {number}
 */
com.util.preloader.DsPreloader.prototype.com_util_preloader_DsPreloader_counter = 0;


/**
 * @private
 * @type {com.unhurdle.spectrum.Application}
 */
com.util.preloader.DsPreloader.prototype.com_util_preloader_DsPreloader__mainUi = null;


/**
 * @param {string} uid
 * @param {number=} h
 * @param {number=} w
 * @param {number=} x
 * @param {number=} y
 * @return {org.apache.royale.jewel.SimpleLoader}
 */
com.util.preloader.DsPreloader.prototype.getPreloader = function(uid, h, w, x, y) {
  h = typeof h !== 'undefined' ? h : 10;
  w = typeof w !== 'undefined' ? w : 10;
  x = typeof x !== 'undefined' ? x : 0;
  y = typeof y !== 'undefined' ? y : 0;
  var /** @type {org.apache.royale.jewel.SimpleLoader} */ p = new org.apache.royale.jewel.SimpleLoader();
  p.height = h;
  p.width = w;
  p.x = x - w;
  p.y = y - h;
  p.style = "position : relative";
  p.emphasis = "primary";
  p.indeterminate = true;
  p.id = uid + '*-*' + Math.random();
  this.com_util_preloader_DsPreloader_loaderObj.push(p);
  return p;
};


/**
 * @param {string} uid
 */
com.util.preloader.DsPreloader.prototype.remvoePreloader = function(uid) {
  org.apache.royale.utils.Language.trace('preloader ' + this.com_util_preloader_DsPreloader_loaderObj.length);
  var foreachiter0_target = this.com_util_preloader_DsPreloader_loaderObj;
  for (var foreachiter0 in foreachiter0_target) 
  {
  var i = foreachiter0_target[foreachiter0];
  {
    if ((i.id).split('*-*')[0] == uid) {
      i.parent.removeElement(i);
      var /** @type {number} */ idx = (this.com_util_preloader_DsPreloader_loaderObj.indexOf(i)) >>> 0;
      this.com_util_preloader_DsPreloader_loaderObj.splice(idx, 1);
      break;
    }
  }}
  
};


/**
 * @private
 */
com.util.preloader.DsPreloader.prototype.com_util_preloader_DsPreloader_removeAllPreloader = function() {
  if (this.com_util_preloader_DsPreloader_loaderObj.length <= 0)
    return;
  var foreachiter1_target = this.com_util_preloader_DsPreloader_loaderObj;
  for (var foreachiter1 in foreachiter1_target) 
  {
  var i = foreachiter1_target[foreachiter1];
  {
    try {
      i.parent.removeElement(i);
    } catch (e) {
    }
  }}
  
};


/**
 * @param {string} id
 */
com.util.preloader.DsPreloader.prototype.showPreloader = function(id) {
  this.com_util_preloader_DsPreloader__mainUi.addElement(this.getPreloader(id, 100, 100, (this.com_util_preloader_DsPreloader__mainUi.width / 2) >> 0, (this.com_util_preloader_DsPreloader__mainUi.height / 2) >> 0));
  org.apache.royale.utils.Language.trace(this.com_util_preloader_DsPreloader__mainUi);
};


/**
 * @nocollapse
 * @export
 * @type {com.unhurdle.spectrum.Application}
 */
com.util.preloader.DsPreloader.prototype.mainUi;


com.util.preloader.DsPreloader.prototype.set__mainUi = function(ui) {
  if (this.com_util_preloader_DsPreloader__mainUi == null)
    this.com_util_preloader_DsPreloader__mainUi = ui;
};


Object.defineProperties(com.util.preloader.DsPreloader.prototype, /** @lends {com.util.preloader.DsPreloader.prototype} */ {
/**
 * @type {com.unhurdle.spectrum.Application}
 */
mainUi: {
set: com.util.preloader.DsPreloader.prototype.set__mainUi}}
);


/**
 * @nocollapse
 * @export
 * @type {com.util.preloader.DsPreloader}
 */
com.util.preloader.DsPreloader.instance;


com.util.preloader.DsPreloader.get__instance = function() {
  if (com.util.preloader.DsPreloader._instance == null) {
    com.util.preloader.DsPreloader._instance = new com.util.preloader.DsPreloader(new com.util.preloader.DsPreloader.SingletonEnforcer());
  }
  return com.util.preloader.DsPreloader._instance;
};


Object.defineProperties(com.util.preloader.DsPreloader, /** @lends {com.util.preloader.DsPreloader} */ {
/**
 * @type {com.util.preloader.DsPreloader}
 */
instance: {
get: com.util.preloader.DsPreloader.get__instance}}
);


/**
 * Metadata
 *
 * @type {Object.<string, Array.<Object>>}
 */
com.util.preloader.DsPreloader.prototype.ROYALE_CLASS_INFO = { names: [{ name: 'DsPreloader', qName: 'com.util.preloader.DsPreloader', kind: 'class' }] };



/**
 * Reflection
 *
 * @return {Object.<string, Function>}
 */
com.util.preloader.DsPreloader.prototype.ROYALE_REFLECTION_INFO = function () {
  return {
    accessors: function () {
      return {
        '|instance': { type: 'com.util.preloader.DsPreloader', access: 'readonly', declaredBy: 'com.util.preloader.DsPreloader'},
        'mainUi': { type: 'com.unhurdle.spectrum.Application', access: 'writeonly', declaredBy: 'com.util.preloader.DsPreloader'}
      };
    },
    methods: function () {
      return {
        'getPreloader': { type: 'org.apache.royale.jewel.SimpleLoader', declaredBy: 'com.util.preloader.DsPreloader', parameters: function () { return [ 'String', false ,'int', true ,'int', true ,'int', true ,'int', true ]; }},
        'remvoePreloader': { type: 'void', declaredBy: 'com.util.preloader.DsPreloader', parameters: function () { return [ 'String', false ]; }},
        'showPreloader': { type: 'void', declaredBy: 'com.util.preloader.DsPreloader', parameters: function () { return [ 'String', false ]; }}
      };
    }
  };
};
/**
 * @const
 * @type {number}
 */
com.util.preloader.DsPreloader.prototype.ROYALE_COMPILE_FLAGS = 9;
/**
 * Provide reflection support for distinguishing dynamic fields on class object (static)
 * @const
 * @type {Array<string>}
 */
com.util.preloader.DsPreloader.prototype.ROYALE_INITIAL_STATICS = Object.keys(com.util.preloader.DsPreloader);



/**
 * @constructor
 */
com.util.preloader.DsPreloader.SingletonEnforcer = function() {
};


/**
 * Metadata
 *
 * @type {Object.<string, Array.<Object>>}
 */
com.util.preloader.DsPreloader.SingletonEnforcer.prototype.ROYALE_CLASS_INFO = { names: [{ name: 'SingletonEnforcer', qName: 'com.util.preloader.DsPreloader.SingletonEnforcer', kind: 'class' }] };



/**
 * Reflection
 *
 * @return {Object.<string, Function>}
 */
com.util.preloader.DsPreloader.SingletonEnforcer.prototype.ROYALE_REFLECTION_INFO = function () {
  return {};
};
/**
 * @const
 * @type {number}
 */
com.util.preloader.DsPreloader.SingletonEnforcer.prototype.ROYALE_COMPILE_FLAGS = 9;
